name: tokensmith
channels:
  - conda-forge
  - defaults

dependencies:
  - python=3.12
  - pip
  - cmake
  - ninja
  - make
  - pkg-config
  - git
  - numpy<2.0
  - faiss-cpu

  # Use pip only for packages not in conda or needing special compilation
  - pip:
    - llama-cpp-python  # Needs CMAKE_ARGS for Metal/CUDA
    - pyyaml
    - tqdm
    - nltk
    - transformers
    - sentence-transformers
    - rank_bm25
    - langchain-experimental
    - pytest
    - rich
